---
import Header from "../components/Header.astro";
import Sidebar from "../components/Sidebar.astro";
import "../components/profile.css"; 
---

<html>
  <Header title="Professional Profile | Raul Cano Portolés" />
  <body>
    <div class="content">
      <Sidebar selectedItem="professional-profile" />
      <nav class="main">
        <div class="container">
          <div class="back-nav-container">
            <a href="/" class="back-nav-button w-inline-block">
              <img src="/assets/back.svg" loading="lazy" alt="" class="back-nav-img" />
              <div>Back</div>
            </a>
          </div>

          
            <div class="profile-header" id="profileHeader" >
              <img src="/assets/raul.png" alt="Raul Cano Portolés" class="profile-avatar data-cell-item" data-animation-direction="down"/>
              <div class="profile-info">
                  <h1 class="data-cell-item" data-animation-direction="right">Raul Cano Portolés</h1>
                  <h2 class="data-cell-item" data-animation-direction="right">Game & Software Developer</h2>
                  <p class="profile-summary data-cell-item" data-animation-direction="up">
                      Passionate about creating immersive and interactive experiences using Unity, Unreal Engine, C#, and C++. 
                      I combine creativity and technical expertise to deliver efficient, scalable, and engaging gameplay systems.
                  </p>
              </div>
            </div>
            <section class="profile-section" id="sectionObjectives">
              <h3>Career Objectives</h3>
              <p class="profile-objectives data-cell-item" data-animation-direction="up">
                 I aim to join a creative studio or development team focused on innovative gameplay mechanics, 
                VR experiences, or software development with strong technical challenges. 
                Open to opportunities in Spain (Barcelona/Tarragona), Dubai, EEUU and remote positions.
              </p>
            </section>

            <section class="profile-section" id="sectionSkills">
                <h3>Core Skills</h3>
                <div class="profile-skills">
                <span class="profile-skill data-cell-item" data-animation-direction="left">Unity</span>
                <span class="profile-skill data-cell-item" data-animation-direction="left">Unreal Engine 4</span>
                <span class="profile-skill data-cell-item" data-animation-direction="left">Unreal Engine 5</span>
                <span class="profile-skill data-cell-item" data-animation-direction="left">C#</span>
                <span class="profile-skill data-cell-item" data-animation-direction="right">C++</span>
                <span class="profile-skill data-cell-item" data-animation-direction="right">.NET</span>
                <span class="profile-skill data-cell-item" data-animation-direction="right">VR SDK</span>
                <span class="profile-skill data-cell-item" data-animation-direction="right">Git</span>
                <span class="profile-skill data-cell-item" data-animation-direction="right">Agile Dev</span>
                </div>
            </section>
          </div>
        </div>
      </nav>
    </div>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // 1. Selecciona TODOS los elementos a animar
    const elementsToAnimate = document.querySelectorAll(
      '.profile-header, .profile-section, .data-cell-item'
    );

    // 2. Opciones del Intersection Observer
    const observerOptions = {
      root: null,
      rootMargin: '0px 0px -100px 0px', // -100px para que se active antes de llegar al final
      threshold: 0.05 // Se activa cuando el 5% del elemento es visible
    };

    // 3. Callback del observador
    const intersectionCallback = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Añade la clase 'visible' para activar la animación CSS
          entry.target.classList.add('visible');
          // Deja de observar el elemento, solo se anima una vez
          observer.unobserve(entry.target);
        }
      });
    };

    // 4. Crea y ejecuta el observador
    const observer = new IntersectionObserver(intersectionCallback, observerOptions);

    elementsToAnimate.forEach(element => {
      observer.observe(element);
    });
  });
</script>

  </body>
</html>
